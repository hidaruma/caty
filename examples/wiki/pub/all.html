<?caty-meta template="smarty"?>
<?caty-script
lsdir / .wiki | each {
    {
        "file": pv name,
        "title": pv name | text:rsplit "." | item 0 | text:trim /
    }
}
?>
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html
  PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN'
  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xml:lang="ja" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>Wiki</title>
        <link rel="stylesheet" href="wiki.css" />
	</head>
	<body>
        <div class="appmenu">
        <span class="wiki.title">All Pages</span> |
        <a href="./FrontPage.wiki">FrontPage</a> |
        {include file="/newpage.html"}
        </div>
    <h1>Wiki Page Index</h1>
    <ul>
    {foreach from=$_CONTEXT item=t}
        <li><a href="./{$t.file}">{$t.title}</a></li>
    {foreachelse}
        <li>No page found.</li>
    {/foreach}
    </ul>
	</body>
</html>

